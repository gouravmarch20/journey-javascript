<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MutationObserver Demo</title>
  <style>
    #container {
      border: 2px dashed #aaa;
      padding: 20px;
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <h2>MutationObserver Demo</h2>
  <button onclick="addItem()">Add Item</button>

  <div id="container">
    <p>Initial content</p>
  </div>

  <script>
    // Target node to observe
    const targetNode = document.getElementById('container');

    // Observer configuration
    const config = {
      childList: true, // Watch for child added/removed
      subtree: true,   // Also observe children of children
    };

    // Callback function to run when mutations are observed
    const callback = function(mutationsList, observer) {
      for (const mutation of mutationsList) {
        if (mutation.type === 'childList') {
          console.log('A child node has been added or removed.');
        }
      }
    };

    // Create an observer instance
    const observer = new MutationObserver(callback);

    // Start observing the target node
    observer.observe(targetNode, config);

    // Function to dynamically add content
    function addItem() {
      const newItem = document.createElement('p');
      newItem.textContent = 'New item added at ' + new Date().toLocaleTimeString();
      targetNode.appendChild(newItem);
    }
  </script>

</body>
</html>
